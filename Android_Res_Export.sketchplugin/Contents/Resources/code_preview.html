<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<title>Code Viewer</title>
<link rel="stylesheet" href="style.css">
<script src="highlight.pack.js"></script>
<script src="highlightjs-line-numbers.min.js"></script>
</head>
<body>
<div id="main">
    <div id="preview">
        <pre><code id="code" class="xml"></code></pre>
    </div>
    <div id="foot-actions">
        <button id="copy" class="button">Copy</button>
        <span class="gap-flex"></span>
        <button id="cancel" class="button">Cancel</button>
        <span class="gap"></span>
        <button id="save" class="button-blue">Save</button>
    </div>
</div>

<script>

var btnCancel = document.getElementById("cancel"),
    btnSave = document.getElementById("save");

btnSave.onclick = function() {
    window.location.hash = "save";
}

btnCancel.onclick = function() {
    window.location.hash = "cancel";
}

window.onfocus = function() {
    window.location.hash = "windowOnFocus_" + new Date().getTime();
}

document.oncontextmenu = function() {
    window.event.returnValue = false;
}

function clickAtPoint(x, y) {
    var element = document.elementFromPoint(x, y);
    element.click();
}

function previewCode(code) {
    var ele_code = document.getElementById("code");
    ele_code.innerText = code;
    hljs.highlightBlock(ele_code);
    hljs.lineNumbersBlock(ele_code);
}

function i18n(json) {
    btnCancel.innerHTML = json["cancel"];
    btnSave.innerHTML = json["save"];
}

</script>
</body>
</html>
